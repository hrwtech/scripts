<!DOCTYPE html>
<html lang="en">
<head>

<title>Send link to Dropbox as HTML file - ready to be converted to PDF</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimal-ui">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="robots" content="noindex"/>
<link rel="icon" href="/static/img/favicon.png?v=3a43e0f358075f9c79f8e1c10d6e737a"/>
<link rel="apple-touch-icon" sizes="57x57" href="/static/img/apple-icon-57x57.png?v=a75d85bb1d6bb65c3b5f0f0ca760f365" />
<link rel="apple-touch-icon" sizes="72x72" href="/static/img/apple-icon-72x72.png?v=538cb15ac72dff614cee6f7f7e67741a" />
<link rel="apple-touch-icon" sizes="114x114" href="/static/img/apple-icon-114x114.png?v=e0a42f16853a5283d85455fe5750d28f" />
<link rel="apple-touch-icon" sizes="144x144" href="/static/img/apple-icon-144x144.png?v=eb55ac301a2b197f5af3f17e39ad2dd7" />
<meta property="og:description" content="A simple tool for saving web pages to read later on your iPhone, iPad, Android, computer, or Kindle."/>
<meta property="og:image" content="http://www.instapaper.com/static/img/insta_logo_large.png"/>
<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<script type="text/javascript" src="//use.typekit.net/dkx1mpq.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
<link rel="stylesheet" href="/static/css/read.min.css?v=ddebf1c28757f80bb2c0a9eb3e9b3a53"/>
<script type="text/javascript" src="/static/js/vendor.min.js?v=bb978daed3cf6b0968f261fb2e4c90c6"></script>
<script type="text/javascript" src="/static/js/read.min.js?v=62e0306750818c5c186ddef1d194d345"></script>
<script type="text/javascript" src="/static/js/speed.min.js"></script>
<!--[if lt IE 9]>
<style type="text/css">
/* this is how I solve old-IE problems and nobody seems to mind */
#control_bar_container { display: none; }
</style>
<![endif]-->
<style type="text/css">
#titlebar {
direction: ltr;
}
#story {
direction: ltr;
}
#footer {
direction: ltr;
}
</style>
</head>
<body class="preload logged_out  size3mode lightmode medwidthmode lyon_mode" data-sizemode=3>
<div class="hidden" id="reflow"></div>
<div class="page_header_read">
<div class="container-fluid">


<nav id="control_bar" class="control_bar reveal">


<section class="primary_bar">
<aside class="logo">Instapaper<a href="/" aria-label="Back to articles" onclick="window.ga('send', 'event', 'read', 'back');"></a></aside>
<div class="control_bar_right_buttons">


<a class="control_bar_item control_bar_item_text"
href="/hello2?url=https://gist.github.com/xab13r/6189340"
title="Save Article"
data-placement="bottom"
aria-label="Save Article">
Save to Instapaper
</a>




<a class="js_popover js_read_options_popover control_bar_item control_bar_item_last"
data-target="#read_options_menu"
data-bodystate="read_options_popover"
data-placement="bottom"
title="Font Settings"
data-placement="bottom"
href="javascript:void(0);"
aria-hidden="true">
<i class="js_tooltip ipicon ipicon-textsize"
data-placement="bottom"
data-toggle="tooltip"
title="Font Settings"></i></a>


<a class="js_popover js_share_popover control_bar_item hidden-xs"
data-target="#share_menu"
data-bodystate="read_share_popover"
data-placement="bottom"
href="javascript:void(0);"
aria-label="Share"><i class="js_tooltip ipicon ipicon-share"
title="Share"
data-toggle="tooltip"
data-placement="bottom"></i>
</a>

<div id="move_menu" class="popover_menu_wrapper">
<div class="move_popover popover_menu">
<header class="menu_group_name">MOVE</header>

</div>
</div>

<div id="read_options_menu" class="popover_menu_wrapper">
<div class="read_options_popover popover_menu">

<div class="read_option_group read_option_color">
<ul>
<li class="js_swatch swatch swatch_light active"
data-color-mode="lightmode">
<div></div>
</li>
<li class="js_swatch swatch swatch_sepia "
data-color-mode="sepiamode">
<div></div>
</li>
<li class="js_swatch swatch swatch_storm "
data-color-mode="stormmode">
<div></div>
</li>
<li class="js_swatch swatch swatch_dark "
data-color-mode="darkmode">
<div></div>
</li>
</ul>
</div>

<div class="read_option_group read_option_fonts">
<ul class="font_choices">
<li id="lyon_choice" class="js_font_choice font_choice" data-choice="lyon_mode">Lyon</li>
<li id="tisa_choice" class="js_font_choice font_choice" data-choice="tisa_mode">Tisa</li>
<li id="helvetica_choice" class="js_font_choice font_choice" data-choice="helvetica_mode">Helvetica</li>
<li id="georgia_choice" class="js_font_choice font_choice" data-choice="georgia_mode">Georgia</li>
</ul>
</div>

<div class="read_option_group read_option_step_size">
<ul class="rocker">
<li class="js_font_size_rocker" data-direction="-1"><span class="ipicon ipicon-view-options-textsize-a"></span></li>
<li class="js_font_size_rocker" data-direction="1"><span class="ipicon ipicon-view-options-textsize-b"></span></li>
</ul>
</div>

<div class="read_option_group read_option_step_size read_option_margin">
<ul class="rocker">
<li class="js_margin_size_rocker" data-direction="-1"><span class="ipicon ipicon-view-options-width-a"></span></li>
<li class="js_margin_size_rocker" data-direction="1"><span class="ipicon ipicon-view-options-width-b"></span></li>
</ul>
</div>
</div>
</div>

<div id="share_menu" class="popover_menu_wrapper">
<div class="share_popover popover_menu">
<header class="menu_group_name">Share</header>
<a class="menu_item" id="shareToEmail"
href="mailto:?subject=Send%20link%20to%20Dropbox%20as%20HTML%20file%20-%20ready%20to%20be%20converted%20to%20PDF&amp;body=Send%20link%20to%20Dropbox%20as%20HTML%20file%20-%20ready%20to%20be%20converted%20to%20PDF%0Ahttps%3A%2F%2Fgist.github.com%2Fxab13r%2F6189340%0A%0A(via%20Instapaper)"
aria-label="Email Article">
Email
</a>





<!-- Currently evernote share only works for save links so donot show it on texst page -->

</div>
</div>


</aside>
</section>
<section id="swap_logo_capital" class="js_control_bar_recall swap_logo_capital">
<aside class="logo_capital"></aside>
</section>
<section id="recall_indicator" class="recall_indicator">
<a href="javascript:void(0);" class="js_control_bar_recall">
<span class="ipicon ipicon-ellipsis"></span>
</a>
</section>
</nav>

</div>
</div>
<div class="container read_content_container">
<main class="main" aria-label="Article">
<div id="titlebar" class="titlebar">
<h1>Send link to Dropbox as HTML file - ready to be converted to PDF</h1>
<span class="origin_line">

<a class="original" href="https://gist.github.com/xab13r/6189340">gist.github.com</a>


</span>

</div>
<div id="story" class="story">
<html><body><div>
    

    

    <div>
      <div>
  
  

<div>
  <div>
    <div>
      <h1>
  <div>
    <div>
      <img src="https://avatars3.githubusercontent.com/u/2306227?s=140" alt="image"/><span>
            <span><a href="https://gist.github.com/xab13r">xab13r</a></span>
        </span> /
      <strong><a href="https://gist.github.com/xab13r/6189340">MakePDF.py</a></strong>
    </div>
    <div>
        <span>Created August 08, 2013</span>
    </div>


    </div>

  </h1></div>
</div>


<div>
  <div>

      


    <div>
          <div>
            <div>
              <p/><div>Send link to Dropbox as HTML file - ready to be converted to PDF</div>
            </div>
          </div>

      <div>
            <div>
    <a href="https://gist.github.com/xab13r/6189340">
    <span>View <strong>MakePDF.py</strong> </span>
  </a>
  
    <div>
      
      
    </div>
    <div>
      <div>
        <a href="https://gist.github.com/xab13r/6189340/raw/64a67325fd54c31b7057b586991803e4f3892e6e/MakePDF.py">Raw</a>
      </div>
    </div>
  
  <div>
    <a>File suppressed. Click to show.</a>
  </div>
  <div>
    



    <div>
      
            <span>1</span>
            <span>2</span>
            <span>3</span>
            <span>4</span>
            <span>5</span>
            <span>6</span>
            <span>7</span>
            <span>8</span>
            <span>9</span>
            <span>10</span>
            <span>11</span>
            <span>12</span>
            <span>13</span>
            <span>14</span>
            <span>15</span>
            <span>16</span>
            <span>17</span>
            <span>18</span>
            <span>19</span>
            <span>20</span>
            <span>21</span>
            <span>22</span>
            <span>23</span>
            <span>24</span>
            <span>25</span>
            <span>26</span>
            <span>27</span>
            <span>28</span>
            <span>29</span>
            <span>30</span>
            <span>31</span>
            <span>32</span>
            <span>33</span>
            <span>34</span>
            <span>35</span>
            <span>36</span>
            <span>37</span>
            <span>38</span>
            <span>39</span>
            <span>40</span>
            <span>41</span>
            <span>42</span>
            <span>43</span>
            <span>44</span>
            <span>45</span>
            <span>46</span>
            <span>47</span>
            <span>48</span>
            <span>49</span>
            <span>50</span>
            <span>51</span>
            <span>52</span>
            <span>53</span>
            <span>54</span>
            <span>55</span>
            <span>56</span>
            <span>57</span>
            <span>58</span>
            <span>59</span>
          
          
            <pre><div><span># Original script by Federico Viticci:</span>
</div><div><span># http://omz-software.com/pythonista/forums/discussion/comment/165#Comment_165</span>
</div>&#160;
<div><span># dropboxlogin must be setup prior to using this script</span>
</div><div><span># Script by OMZ located here: https://gist.github.com/4034526</span>
</div>&#160;
<div><span># javascript:window.location='pythonista://MakePDF?action=run&amp;argv='+encodeURIComponent(document.title)+'&amp;argv='+encodeURIComponent(document.location.href);</span>
</div>&#160;
&#160;
<div><span>import</span> clipboard
</div><div><span>import</span> urllib2
</div><div><span>import</span> console
</div><div><span>from</span> dropboxlogin <span>import</span> get_client
</div><div>dropbox_client <span>=</span> get_client()
</div><div><span>import</span> keychain
</div><div><span>import</span> time
</div><div><span>import</span> webbrowser
</div><div><span>import</span> sys
</div><div><span>import</span> webbrowser
</div><div><span>import</span> urllib
</div><div><span>import</span> bs4
</div>&#160;
<div>numArgs <span>=</span> <span>len</span>(sys.argv)
</div>&#160;
<div>console.clear()
</div>&#160;
<div><span>if</span> numArgs <span>&lt;</span> <span>2</span>:
</div><div>    url <span>=</span> clipboard.get()
</div><div>    console.show_activity()
</div>&#160;
<div>    soup <span>=</span> bs4.BeautifulSoup(urllib.urlopen(url))
</div><div>    title <span>=</span> soup.title.string
</div><div>    name <span>=</span> title.encode(<span><span>'</span>utf-8<span>'</span></span>)
</div>&#160;
<div>    console.hide_activity()
</div><div><span>else</span>:
</div><div>    webpage <span>=</span> sys.argv[<span>1</span>]
</div><div>    name <span>=</span> webpage.encode(<span><span>'</span>utf-8<span>'</span></span>)
</div><div>    url <span>=</span> sys.argv[<span>2</span>]
</div>&#160;
<div>insta <span>=</span> <span><span>'</span>http://instapaper.com/text?u=<span>'</span></span>
</div>&#160;
<div>URL <span>=</span> insta <span>+</span> url
</div>&#160;
<div><span>print</span> <span><span>'</span>Generating HTML file...<span>'</span></span>
</div>&#160;
<div>getText <span>=</span> urllib2.Request(URL)
</div><div>openText <span>=</span> urllib2.urlopen(getText)
</div><div>content <span>=</span> (openText.read().decode(<span><span>'</span>utf-8<span>'</span></span>))
</div>&#160;
<div>final <span>=</span> content.encode(<span><span>'</span>utf-8<span>'</span></span>)
</div>&#160;
<div><span>print</span> <span><span>'</span>Uploading HTML file to Dropbox...<span>'</span></span>
</div>&#160;
&#160;
<div>response <span>=</span> dropbox_client.put_file(<span><span>'</span>/<span>'</span></span> <span>+</span> name <span>+</span> <span><span>'</span>.html<span>'</span></span>, final)
</div>&#160;
<div><span>print</span> <span><span>'</span>Your HTML file has been uploaded<span>'</span></span>
</div></pre>
          
        </div>

  </div>
</div>


        
      </div>
    </div>
  </div>
</div>

  
</div>

    </div>
    
  </div>

  <div>
    <div>
      
      Something went wrong with that request. Please try again.
      
    </div>
  </div>


  
  


  




</div></body></html>
</div>
<footer id="footer" class="footer">
<span class="origin_line">

<a class="original" href="https://gist.github.com/xab13r/6189340">gist.github.com</a>


</span>
</footer>
<!-- ### Parser
ip
-->
</main>
</div>
<!-- Modals -->
<div id="modal_backer" class="modal_backer"></div>
<div id="evernote_modal" class="modal">
<div class="modal_name">Evernote</div>
<div class="modal_close"><i class="icon-remove"></i></div>
<div class="modal_group">

</div>
</div>

<div id="highlight_create_popover" class="highlight_popover">
<a class="highlight_button">
<span class="ipicon ipicon-highlights-dark"></span> Highlight
</a>
<div class="highlight_arrow"></div>
</div>
<div id="highlight_delete_popover" class="highlight_popover">
<a class="highlight_button">
<span class="ipicon ipicon-delete-dark"></span> Remove Highlight
</a>
<div class="highlight_arrow"></div>
</div>



<script type="text/javascript">
window.text_only = true;
window.is_subscriber = false;
window.highlights_this_month = false;
window.highlights_monthly_limit = false;
window.initial_scroll_position = false;
window.initial_highlight_id = false;
window.applyHighlights = false;
var body_height = $('body').outerHeight();


(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-43497209-1', 'instapaper.com');
ga('send', 'pageview');
</script>
</body>
</html>
